(this.webpackJsonpholidayextras=this.webpackJsonpholidayextras||[]).push([[0],{34:function(e,t,n){e.exports=n(45)},36:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n(3),c=(n(36),n(1)),i=n.n(c),s=n(10),o=n(33),d=n(16),u=n(11);var l=n(14),f=n(27),b=n(12),p=n.n(b),h=n(13),g=p.a.mark(j),x=p.a.mark(m);function j(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.b)(m);case 2:return e.next=4,Object(h.a)([Object(h.e)("feed end reached",m)]);case 4:case"end":return e.stop()}}),g)}function m(){var e,t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(h.d)((function(e){return e.page}));case 2:return e=n.sent,n.next=5,Object(h.b)(v,e);case 5:return t=n.sent,n.next=8,Object(h.c)({type:"[saga] images fetched",payload:{images:t}});case 8:case"end":return n.stop()}}),x)}function v(e){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.unsplash.com/photos/?client_id=".concat("b6f13c4cda611136e9965348d6c471ee6dfb3eb53456aa0a08209d140787f4b3","&page=").concat(t)).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(28),k=Object(o.a)(),w=Object(s.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{images:[],page:1,focusedCardId:null,currentSearchValue:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[saga] images fetched":return Object(u.a)({},e,{images:[].concat(Object(d.a)(e.images),Object(d.a)(t.payload.images))});case"feed end reached":return Object(u.a)({},e,{page:e.page+1});case"card clicked":return Object(u.a)({},e,{focusedCardId:t.payload.cardId});case"dismiss focused card clicked":return Object(u.a)({},e,{focusedCardId:null});case"search value changed":return Object(u.a)({},e,{currentSearchValue:t.payload.value});default:return e}}),Object(y.composeWithDevTools)(Object(s.applyMiddleware)(k)));k.run(j);var C=l.c,S=l.b,I=n(32),M={display:"grid"};function z(e){var t=e.items,n=e.onEndReached,r=e.columns,c=void 0===r?3:r,i=e.height,s=e.width,o=e.renderItem,d=e.onStartReached,l=e.endOffset,f=void 0===l?0:l,b=e.itemHeight,p=e.gap,h=void 0===p?5:p,g=Math.ceil(t.length/c),x=b||i,j=g*x-(i-(b||0));return Object(a.b)(I.a,{style:{overflowX:"hidden",width:s,height:i},width:s,height:i,onScroll:function(e){var t=e.scrollOffset,r=e.scrollDirection;0===t&&"backward"===r?d():t>=j-x-f&&"forward"===r&&n()},itemCount:g,itemSize:x},(function(e){for(var n=e.style,r=e.index,i=[],s=0;s<c;s++){var d=t[r*c+s];d&&i.push(o(d))}return Object(a.b)("div",{key:r,style:Object(u.a)({},n,{},M,{gridTemplateColumns:"repeat(".concat(c,", 1fr)"),gridGap:h,paddingBottom:h})},i)}))}var L={name:"5sfkzj",styles:"height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;border-radius:4px;box-shadow:0 0 1px rgba(0,0,0,0.5),-0 -0 1px #ffffff;"},R={name:"f23cfv",styles:"flex:1;align-items:flex-start;justify-content:flex-start;flex-direction:column;display:flex;padding:20px;"},V={name:"1apiwpj",styles:"flex:0 0 10px;"},E={name:"1apiwpj",styles:"flex:0 0 10px;"},B={name:"72fd9l",styles:"flex:0;"},D={name:"1apiwpj",styles:"flex:0 0 10px;"},H=i.a.memo((function(e){var t=e.id,n=e.uri,r=e.title,c=e.link,i=e.authorLink,s=e.author,o=e.authorImage,d=e.description,u=e.onCardClicked,l=e.fallback;return Object(a.b)("div",{css:L},Object(a.b)("div",{onClick:function(){u&&u(t)},css:Object(a.a)("flex:1;width:100%;align-self:center;border-radius:5;background-color:",l||"transparent",";background-image:url(",n,");background-size:cover;background-position:center;background-repeat:no-repeat;backdrop-filter:blur(15px);")}),Object(a.b)("div",{css:R},Object(a.b)("div",{css:Object(a.a)("flex:0 0 50px;width:50px;height:50px;align-self:center;border-radius:10px;background-image:url(",o,");background-size:cover;box-shadow:0 0 1px #cdcbce,-0 -0 1px #ffffff;")}),Object(a.b)("div",{css:V}),Object(a.b)("div",{style:{flex:1,overflow:"scroll"}},d),Object(a.b)("div",{css:E}),Object(a.b)("span",{css:B},Object(a.b)("a",{href:c},r)," by ",Object(a.b)("a",{href:i},s)),Object(a.b)("div",{css:D})))}));var J={name:"1apiwpj",styles:"flex:0 0 10px;"};function T(){return Object(a.b)("div",{css:J})}var _=n(8),G=n(30),P=n(47);var W={name:"b3lir9",styles:"border:none;padding:10px 20px;border-radius:2px;background:#fff;box-shadow:inset 0 0 2px 0 #414141;"};function X(e){var t=e.value,n=e.onSearchChanged;return Object(a.b)("input",{placeholder:"Search",css:W,type:"text",value:t,onChange:function(e){n(e.target.value)}})}var q=n(18),A=n(29),F=n.n(A),K=Object(q.a)([function(e){return e.currentSearchValue}],(function(e){return e})),N=Object(q.a)([function(e){return e.images},function(e){return e.focusedCardId}],(function(e,t){return e.find((function(e){return e.id===t}))})),Q={shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,includeScore:!1,includeMatches:!1,keys:["description"]},U=Object(q.a)([function(e){return e.images},function(e){return e.currentSearchValue}],(function(e,t){var n=new F.a(e,Q);return t?n.search(t||""):e})),Y=n(5);var Z={name:"16ac6np",styles:"border:none;background:linear-gradient(45deg,#313131,#414141);box-shadow:1px 1px 1px 0 black;padding:10px 20px;border-radius:1px;color:white;"};function $(e){return Object(a.b)("button",Object(Y.a)({css:Z},e),e.children)}var ee={name:"11chj0o",styles:"padding:10px;width:100%;height:100%;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;"},te={name:"1ckoxxj",styles:"flex:1;height:100%;width:100%;"},ne={name:"1uuadv7",styles:"position:fixed;top:0;left:0;height:100%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(255,255,255,0.5);backdrop-filter:blur(12px);padding:20px;"};function re(){var e=S(),t=C(U),n=C(N),i=C(K),s=Object(G.a)(),o=Object(r.a)(s,2),d=o[0],u=o[1],l=u.width,f=u.height,b=c.useMemo((function(){return l<=500?1:l<=768?2:3}),[l]),p=c.useCallback((function(t){return Object(a.b)(H,{id:t.id,authorLink:t.user.links.html,author:t.user.username,description:t.description,title:t.id,fallback:t.color,authorImage:t.user.profile_image.large,link:t.links.html,uri:t.urls.regular,onCardClicked:function(t){e({type:"card clicked",payload:{cardId:t}})}})}),[e]);return Object(a.b)("div",{css:ee},Object(a.b)(X,{value:i||"",onSearchChanged:function(t){e({type:"search value changed",payload:{value:t}})}}),Object(a.b)(T,null),Object(a.b)("div",{ref:d,css:te},n&&Object(a.b)(P.a,null,Object(a.b)("div",{css:ne,onClick:function(){e({type:"dismiss focused card clicked"})}},Object(a.b)($,{onClick:function(){e({type:"dismiss focused card clicked"})}},"Close"),p(n))),Object(a.b)(z,{items:t,onStartReached:function(){e({type:"feed start reached"})},onEndReached:function(){e({type:"feed end reached"})},columns:b,width:l,height:f,gap:15,itemHeight:f/2,endOffset:f/2,renderItem:p})))}Object(_.render)(Object(a.b)((function(){return Object(a.b)(l.a,{store:w},Object(a.b)(re,null))}),null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.21618cd0.chunk.js.map