(this.webpackJsonpholidayextras=this.webpackJsonpholidayextras||[]).push([[0],{46:function(e,t,c){e.exports=c(57)},49:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(10),r=c(2),a=c(33),i=(c(49),c(0)),o=c.n(i),d=c(15),s=c(43),u=c(13),l=c(8);var f=c(21),b=c(37),p=c(18),h=c.n(p),g=c(19),j=h.a.mark(x),O=h.a.mark(m);function x(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(m);case 2:return e.next=4,Object(g.a)([Object(g.e)("feed end reached",m)]);case 4:case"end":return e.stop()}}),j)}function m(){var e,t;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(g.d)((function(e){return e.page}));case 2:return e=c.sent,c.next=5,Object(g.b)(v,e);case 5:return t=c.sent,c.next=8,Object(g.c)({type:"[saga] images fetched",payload:{images:t}});case 8:case"end":return c.stop()}}),O)}function v(e){return y.apply(this,arguments)}function y(){return(y=Object(b.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.unsplash.com/photos/?client_id=".concat("b6f13c4cda611136e9965348d6c471ee6dfb3eb53456aa0a08209d140787f4b3","&page=").concat(t)).then((function(e){return e.json()}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=c(38),w=Object(s.a)(),C=Object(d.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{images:[],page:1,focusedCardId:null,currentSearchValue:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[saga] images fetched":return Object(l.a)({},e,{images:[].concat(Object(u.a)(e.images),Object(u.a)(t.payload.images))});case"feed end reached":return Object(l.a)({},e,{page:e.page+1});case"card clicked":return Object(l.a)({},e,{focusedCardId:t.payload.cardId});case"dismiss focused card clicked":return Object(l.a)({},e,{focusedCardId:null});case"search value changed":return Object(l.a)({},e,{currentSearchValue:t.payload.value});default:return e}}),Object(k.composeWithDevTools)(Object(d.applyMiddleware)(w)));w.run(x);var S=f.c,I=f.b,V=c(44),z={display:"grid"};function H(e){var t=e.items,c=e.onEndReached,n=e.columns,a=void 0===n?3:n,i=e.height,o=e.width,d=e.renderItem,s=e.onStartReached,u=e.endOffset,f=void 0===u?0:u,b=e.itemHeight,p=e.gap,h=void 0===p?5:p,g=Math.ceil(t.length/a),j=b||i,O=g*j-(i-(b||0));return Object(r.c)(V.a,{style:{overflowX:"hidden",width:o,height:i},width:o,height:i,onScroll:function(e){var t=e.scrollOffset,n=e.scrollDirection;0===t&&"backward"===n?s():t>=O-j-f&&"forward"===n&&c()},itemCount:g,itemSize:j},(function(e){for(var c=e.style,n=e.index,i=[],o=0;o<a;o++){var s=t[n*a+o];s&&i.push(d(s))}return Object(r.c)("div",{key:n,style:Object(l.a)({},c,{},z,{gridTemplateColumns:"repeat(".concat(a,", 1fr)"),gridGap:h,paddingBottom:h})},i)}))}var L=c(3),M=c(16),E=c(39),R=c(62),T=c(24),D=o.a.memo((function(e){var t=e.uri,c=e.fallback,a=Object(T.a)(),i=Object(n.a)(a,2),o=i[0],d=i[1],s=d.width,u=d.height,f=Object(M.d)((function(){return{x:50,y:50,config:Object(l.a)({},M.b.slow)}})),b=Object(n.a)(f,2),p=b[0],h=p.x,g=p.y,j=b[1],O=Object(E.a)((function(e){var t=Object(n.a)(e.movement,2),c=t[0],r=t[1],a=e.down,i=Object(n.a)(e.xy,2);i[0],i[1],e.event;a?(document.ontouchmove=function(e){e.preventDefault()},j({x:c,y:r})):document.ontouchmove=function(){return!0}}),{initial:function(){return[h.getValue(),g.getValue()]},eventOptions:{},bounds:{left:0,right:s,bottom:u,top:0},filterTaps:!0}),x=Object(R.a)().domain([0,s]).range([0,100]),m=Object(R.a)().domain([0,u]).range([0,100]);return Object(r.c)(M.a.div,Object(L.a)({ref:o},O(),{css:Object(r.b)("height:100%;width:100%;flex:1 1 100%;background-color:",c||"transparent",";background-image:url(",t,");background-repeat:no-repeat;background-size:auto !important;"),style:{touchAction:"none",backgroundPosition:Object(M.c)([h,g],(function(e,t){return"".concat(100-x(e),"% ").concat(100-m(t),"%")}))}}))}));var P={name:"1apiwpj",styles:"flex:0 0 10px;"};function _(){return Object(r.c)("div",{css:P})}var B={name:"1apiwpj",styles:"flex:0 0 10px;"},J={name:"1apiwpj",styles:"flex:0 0 10px;"},N={name:"72fd9l",styles:"flex:0;"},X={name:"1apiwpj",styles:"flex:0 0 10px;"},q=o.a.memo((function(e){var t=e.id,c=e.uri,n=e.title,a=e.link,i=e.authorLink,o=e.author,d=e.authorImage,s=e.description,u=e.onCardClicked;e.fallback;return Object(r.c)("div",{css:function(e){return Object(r.b)("height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;border-radius:",e.radius,";border:1px solid ",e.dark2,";")}},Object(r.c)("div",{style:{width:"100%",flex:2}},Object(r.c)(D,{uri:c})),Object(r.c)(_,null),Object(r.c)("span",{onClick:function(){return u(t)}},"Expand"),Object(r.c)("div",{css:function(e){return Object(r.b)("flex:1;align-items:flex-start;justify-content:flex-start;flex-direction:column;display:flex;padding:",e.paddingVertical," ",e.paddingHorizontal,";")}},Object(r.c)("div",{css:function(e){return Object(r.b)("flex:0 0 35px;width:35px;height:35px;align-self:center;border-radius:",e.radius,";background-image:url(",d,");background-size:cover;box-shadow:0 1px 1px 0 black;")}}),Object(r.c)("div",{css:B}),Object(r.c)("div",{style:{flex:1,overflow:"scroll"}},s||"No description."),Object(r.c)("div",{css:J}),Object(r.c)("span",{css:N},Object(r.c)("a",{href:a},n)," by ",Object(r.c)("a",{href:i},o)),Object(r.c)("div",{css:X})))})),A=c(12);function G(e){var t=e.value,c=e.onSearchChanged;return Object(r.c)("input",{placeholder:"Search",css:function(e){return Object(r.b)("border:none;padding:",e.paddingVertical," ",e.paddingHorizontal,";border-radius:",e.radius,";background:",e.light,";box-shadow:inset 0 0 2px 0 ",e.dark,";")},type:"text",value:t,onChange:function(e){c(e.target.value)}})}var W=c(25),F=c(40),K=c.n(F),Q=Object(W.a)([function(e){return e.currentSearchValue}],(function(e){return e})),U=Object(W.a)([function(e){return e.images},function(e){return e.focusedCardId}],(function(e,t){return e.find((function(e){return e.id===t}))})),Y={shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,includeScore:!1,includeMatches:!1,keys:["description"]},Z=Object(W.a)([function(e){return e.images},function(e){return e.currentSearchValue}],(function(e,t){var c=new K.a(e,Y);return t?c.search(t||""):e})),$=c(41),ee=c(42),te=c(63);function ce(e){return Object(r.c)("button",Object(L.a)({css:function(e){return Object(r.b)("border:none;background:linear-gradient(45deg,",e.dark,",",e.dark2,");box-shadow:1px 1px 1px 0 black;padding:",e.paddingVertical," ",e.paddingHorizontal,";border-radius:",e.radius,";color:white;")}},e),e.children)}var ne={name:"1dxf69c",styles:"position:fixed;top:0;right:0;height:100%;width:90%;display:flex;align-items:center;justify-content:center;flex-direction:column;background:rgba(255,255,255,0.5);backdrop-filter:blur(12px);box-shadow:-1px 0 1px 0 rgba(0,0,0,0.5);"},re={name:"3wqclb",styles:"height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;"},ae={name:"1apiwpj",styles:"flex:0 0 10px;"},ie={name:"1apiwpj",styles:"flex:0 0 10px;"},oe={name:"72fd9l",styles:"flex:0;"},de={name:"1apiwpj",styles:"flex:0 0 10px;"},se=o.a.memo((function(e){var t=e.id,c=e.uri,n=e.title,a=e.link,i=e.authorLink,o=e.author,d=e.authorImage,s=e.description,u=e.onCardClicked,l=(e.fallback,Object(M.d)({from:{x:"100%"},x:"0%"}).x);return Object(r.c)(te.a,null,Object(r.c)(M.a.div,{css:ne,style:{transform:l.interpolate((function(e){return"translateX(".concat(e,")")}))}},Object(r.c)(_,null),Object(r.c)(ce,{onClick:function(){return u(t)}},"Close"),Object(r.c)(_,null),Object(r.c)("div",{css:re},Object(r.c)("div",{style:{width:"100%",flex:1}},Object(r.c)(D,{uri:c})),Object(r.c)("div",{css:function(e){return Object(r.b)("flex:1;align-items:flex-start;justify-content:flex-start;flex-direction:column;display:flex;padding:",e.paddingVertical," ",e.paddingHorizontal,";")}},Object(r.c)("div",{css:function(e){return Object(r.b)("flex:0 0 50px;width:50px;height:50px;align-self:center;border-radius:",e.radius,";background-image:url(",d,");background-size:cover;box-shadow:0 1px 1px 0 black;")}}),Object(r.c)("div",{css:ae}),Object(r.c)("div",{style:{flex:1,overflow:"scroll"}},s||"No description."),Object(r.c)("div",{css:ie}),Object(r.c)("span",{css:oe},Object(r.c)("a",{href:a},n)," by ",Object(r.c)("a",{href:i},o)),Object(r.c)("div",{css:de})))))}));var ue={radius:"2px",dark:"#313131",dark2:"#414141",light:"#fff",light2:"#eee",paddingHorizontal:"20px",paddingVertical:"10px"};var le={name:"11chj0o",styles:"padding:10px;width:100%;height:100%;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;"},fe={name:"1ckoxxj",styles:"flex:1;height:100%;width:100%;"};function be(){var e=Object($.a)().effectiveConnectionType,t=Object(ee.a)().numberOfLogicalProcessors,c=I(),a=S(Z),o=S(U),d=S(Q),s=Object(T.a)(),u=Object(n.a)(s,2),l=u[0],f=u[1],b=f.width,p=f.height,h=i.useMemo((function(){return t<4?1:b<=500?1:b<=768?2:3}),[b,t]),g=i.useCallback((function(t,n){return Object(r.c)(q,{id:t.id,authorLink:t.user.links.html,author:t.user.username,description:t.description,title:t.id,fallback:t.color,authorImage:t.user.profile_image.large,link:t.links.html,uri:"4g"===e?t.urls.regular:"focused"===n?t.urls.regular:t.urls.thumb,onCardClicked:function(e){c({type:"card clicked",payload:{cardId:e}})}})}),[c,e]);return Object(r.c)("div",{css:le},Object(r.c)(G,{value:d||"",onSearchChanged:function(e){c({type:"search value changed",payload:{value:e}})}}),Object(r.c)(_,null),Object(r.c)("div",{ref:l,css:fe},o&&Object(r.c)(se,{id:o.id,authorLink:o.user.links.html,author:o.user.username,description:o.description,title:o.id,fallback:o.color,authorImage:o.user.profile_image.large,link:o.links.html,uri:o.urls.regular,onCardClicked:function(){c({type:"dismiss focused card clicked"})}}),Object(r.c)(H,{items:a,onStartReached:function(){c({type:"feed start reached"})},onEndReached:function(){c({type:"feed end reached"})},columns:h,width:b,height:p,gap:15,itemHeight:p/2,endOffset:p/2,renderItem:g})))}Object(A.render)(Object(r.c)((function(){return Object(r.c)(f.a,{store:C},Object(r.c)(a.a,{theme:ue},Object(r.c)(be,null)))}),null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.f4a5d7ae.chunk.js.map